<VirtualHost *:80>
    ServerName localhost
    <Location "/server-status">
    SetHandler server-status
    Require  host  localhost		#uncomment to only allow requests from localhost 
    </Location>
</VirtualHost>


# For production Server running via systemd service and apache-tomcat-7.0.65 folder in /data
<VirtualHost *:80>
#    Alias "/app" "/var/www/html/app"
    RemoteIPHeader X-Forwarded-For

#       <Directory "/var/www/html/app">
#        Options Indexes FollowSymLinks MultiViews
#        AllowOverride None
#        Require all granted
#        Header set Access-Control-Allow-Origin "*"
#        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
#        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
#       </Directory>

    ServerName checoutme.innowi.com



#RewriteEngine On
#RewriteCond %{HTTPS} !on
#RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}

#RewriteEngine On
#RewriteCond %{HTTP:X-Forwarded-Proto} =http
#RewriteRule .* https://%{HTTP:Host}%{REQUEST_URI} [L,R=permanent]

#RewriteEngine on 
#RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
#RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

#Redirect permanent / https://apis.innowi.com/

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

    ProxyPassMatch ^/app !
    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8080/
    ProxyPassReverse / http://127.0.0.1:8080/
</VirtualHost>

######################
<VirtualHost *:80>
    Alias "/app" "/var/www/html/app"
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/app">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName checout.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

    ProxyPassMatch ^/app !
    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8080/
    ProxyPassReverse / http://127.0.0.1:8080/
</VirtualHost>
####################################
#######################################
###### timeclock.innowi.com
######################################
<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"


       <Directory "/var/www/html/app">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName timeclock.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

DocumentRoot /var/www/html/app

</VirtualHost>


<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/dev-support">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName dev-support.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>

<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/support">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName support.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>

#https://dev-communication.innowi.com/
<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/dev-comm">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName dev-communication.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>

#https://voice.innowi.com/
<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/prod-comm">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName dev-communication.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>






#/var/www/html/dev-inventory/inventory-management
<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/dev-inventory/inventory-management">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName dev-inventory.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>

#/var/www/html/dev-inventory/inventory-management
<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/inventory/inventory-management">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName inventory.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>
#############

<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/restaurant">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName restaurant.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>

<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/restaurant-dev">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName dev-restaurant.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>


<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/onlineorder-dev/online-ordering">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName dev-online-ordering.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>



<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/onlineorder/online-ordering">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName online-ordering.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>


###
<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/prerestaurant">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName prerestaurant.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>


<VirtualHost *:80>
    RemoteIPHeader X-Forwarded-For

       <Directory "/var/www/html/restaurant-qa">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
        Header set Access-Control-Allow-Origin "*"
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
        Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
       </Directory>
    ServerName qa-restaurant.innowi.com

# For AWS ALB Health Check to Pass
RewriteEngine on
RewriteCond %{HTTP:X-Forwarded-Proto} ^http$
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</VirtualHost>
